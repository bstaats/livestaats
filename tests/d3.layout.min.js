(function(){function A(g){return g.reduce(B,0)}function C(g){for(var l=1,i=0,k=g[0].y,m,h=g.length;l<h;++l)if((m=g[l].y)>k){i=l;k=m}return i}function B(g,l){return g+l.y}function D(g){return g.children}function E(g){return g.value}function F(g,l){return l.value-g.value}d3.layout={};d3.layout.chord=function(){function g(){var e={},c=[],p=d3.range(b),o=[],q,r,u,s,t;k=[];m=[];q=0;for(s=-1;++s<b;){r=0;for(t=-1;++t<b;)r+=h[s][t];c.push(r);o.push(d3.range(b));q+=r}n&&p.sort(function(z,x){return n(c[z],
c[x])});f&&o.forEach(function(z,x){z.sort(function(G,H){return f(h[x][G],h[x][H])})});q=(2*Math.PI-j*b)/q;r=0;for(s=-1;++s<b;){u=r;for(t=-1;++t<b;){var v=p[s],w=o[s][t],y=h[v][w];e[v+"-"+w]={index:v,subindex:w,startAngle:r,endAngle:r+=y*q,value:y}}m.push({index:v,startAngle:u,endAngle:r,value:(r-u)/q});r+=j}for(s=-1;++s<b;)for(t=s-1;++t<b;){p=e[s+"-"+t];o=e[t+"-"+s];if(p.value||o.value)k.push({source:p,target:o})}a&&l()}function l(){k.sort(function(e,c){e=Math.min(e.source.value,e.target.value);c=
Math.min(c.source.value,c.target.value);return a(e,c)})}var i={},k,m,h,b,j=0,n,f,a;i.matrix=function(e){if(!arguments.length)return h;b=(h=e)&&h.length;k=m=null;return i};i.padding=function(e){if(!arguments.length)return j;j=e;k=m=null;return i};i.sortGroups=function(e){if(!arguments.length)return n;n=e;k=m=null;return i};i.sortSubgroups=function(e){if(!arguments.length)return f;f=e;k=null;return i};i.sortChords=function(e){if(!arguments.length)return a;a=e;k&&l();return i};i.chords=function(){k||
g();return k};i.groups=function(){m||g();return m};return i};d3.layout.force=function(){function g(){var f=n.length,a,e,c,p,o,q,r;for(a=0;a<f;++a){e=n[a];c=e.source;p=e.target;q=p.x-c.x;r=p.y-c.y;if(o=Math.sqrt(q*q+r*r)){o=m/(e.distance*e.distance)*(o-h*e.distance)/o;q*=o;r*=o;if(!p.fixed){p.x-=q;p.y-=r}if(!c.fixed){c.x+=q;c.y+=r}}}i.tick.dispatch({type:"tick"});return(m*=0.99)<0.0050}var l={},i=d3.dispatch("tick"),k=[1,1],m=0.5,h=30,b,j,n;l.on=function(f,a){i[f].add(a);return l};l.nodes=function(f){if(!arguments.length)return b;
b=f;return l};l.links=function(f){if(!arguments.length)return j;j=f;return l};l.size=function(f){if(!arguments.length)return k;k=f;return l};l.distance=function(f){if(!arguments.length)return h;h=f;return l};l.start=function(){var f,a,e,c=b.length;e=j.length;var p=k[0],o=k[1],q=[];for(f=0;f<c;++f){a=b[f];a.x=a.x||Math.random()*p;a.y=a.y||Math.random()*o;a.fixed=0;q[f]=[];for(a=0;a<c;++a)q[f][a]=Infinity;q[f][f]=0}for(f=0;f<e;++f){a=j[f];q[a.source][a.target]=1;q[a.target][a.source]=1;a.source=b[a.source];
a.target=b[a.target]}for(e=0;e<c;++e)for(f=0;f<c;++f)for(a=0;a<c;++a)q[f][a]=Math.min(q[f][a],q[f][e]+q[e][a]);n=[];for(f=0;f<c;++f)for(a=f+1;a<c;++a)n.push({source:b[f],target:b[a],distance:q[f][a]*q[f][a]});n.sort(function(r,u){return r.distance-u.distance});d3.timer(g);return l};l.resume=function(){m=0.1;d3.timer(g);return l};l.stop=function(){m=0;return l};l.drag=function(){function f(){if(a){var c=d3.svg.mouse(e);a.x=c[0];a.y=c[1];l.resume()}}var a,e;this.on("mouseover",function(c){c.fixed=true}).on("mouseout",
function(c){if(c!=a)c.fixed=false}).on("mousedown",function(c){(a=c).fixed=true;e=this;d3.event.preventDefault()});d3.select(window).on("mousemove",f).on("mouseup",function(){if(a){f();a.fixed=false;a=e=null}});return l};return l};d3.layout.partition=function(){function g(h,b,j,n){var f=h.children;h.x=b;h.y=h.depth*n;h.dx=j;h.dy=n;if(f){var a=-1,e=f.length,c;for(j/=h.value;++a<e;){g(c=f[a],b,h=c.value*j,n);b+=h}}}function l(h){h=h.children;var b=0;if(h)for(var j=-1,n=h.length;++j<n;)b=Math.max(b,
l(h[j]));return 1+b}function i(h,b){var j=k.call(this,h,b);g(j[0],0,m[0],m[1]/l(j[0]));return j}var k=d3.layout.hierarchy(),m=[1,1];i.sort=d3.rebind(i,k.sort);i.children=d3.rebind(i,k.children);i.value=d3.rebind(i,k.value);i.size=function(h){if(!arguments.length)return m;m=h;return i};return i};d3.layout.pie=function(){function g(h){var b=+(typeof k=="function"?k.apply(this,arguments):k),j=(typeof m=="function"?m.apply(this,arguments):m)-k,n=d3.range(h.length);i!=null&&n.sort(function(e,c){return i(h[e],
h[c])});var f=h.map(l);j/=f.reduce(function(e,c){return e+c},0);var a=n.map(function(e){return{value:d=f[e],startAngle:b,endAngle:b+=d*j}});return h.map(function(e,c){return a[n[c]]})}var l=Number,i=null,k=0,m=2*Math.PI;g.value=function(h){if(!arguments.length)return l;l=h;return g};g.sort=function(h){if(!arguments.length)return i;i=h;return g};g.startAngle=function(h){if(!arguments.length)return k;k=h;return g};g.endAngle=function(h){if(!arguments.length)return m;m=h;return g};return g};d3.layout.stack=
function(){function g(k){var m=k.length,h=k[0].length,b,j,n,f=I[l](k);J[i](k,f);for(j=0;j<h;++j){b=1;for(n=k[f[0]][j].y0;b<m;++b)k[f[b]][j].y0=n+=k[f[b-1]][j].y}return k}var l="default",i="zero";g.order=function(k){if(!arguments.length)return l;l=k;return g};g.offset=function(k){if(!arguments.length)return i;i=k;return g};return g};var I={"inside-out":function(g){var l=g.length,i,k=g.map(C),m=g.map(A),h=d3.range(l).sort(function(a,e){return k[a]-k[e]}),b=0,j=0,n=[],f=[];for(g=0;g<l;g++){i=h[g];if(b<
j){b+=m[i];n.push(i)}else{j+=m[i];f.push(i)}}return f.reverse().concat(n)},reverse:function(g){return d3.range(g.length).reverse()},"default":function(g){return d3.range(g.length)}},J={silhouette:function(g,l){var i=g.length,k=g[0].length,m=[],h=0,b,j,n;for(j=0;j<k;++j){for(n=b=0;b<i;b++)n+=g[b][j].y;if(n>h)h=n;m.push(n)}j=0;for(b=l[0];j<k;++j)g[b][j].y0=(h-m[j])/2},wiggle:function(g,l){var i=g.length,k=g[0],m=k.length,h,b,j,n,f,a=l[0],e,c,p,o,q,r;g[a][0].y0=q=r=0;for(b=1;b<m;++b){for(e=h=0;h<i;++h)e+=
g[h][b].y;c=h=0;for(o=k[b].x-k[b-1].x;h<i;++h){j=0;n=l[h];for(p=(g[n][b].y-g[n][b-1].y)/(2*o);j<h;++j)p+=(g[f=l[j]][b].y-g[f][b-1].y)/o;c+=p*g[n][b].y}g[a][b].y0=q-=e?c/e*o:0;if(q<r)r=q}for(b=0;b<m;++b)g[a][b].y0-=r},zero:function(g,l){for(var i=0,k=g[0].length,m=l[0];i<k;++i)g[m][i].y0=0}};d3.layout.hierarchy=function(){function g(b,j,n){var f=m.call(i,b,j),a={depth:j,data:b};n.push(a);if(f){b=-1;var e=f.length,c=a.children=[],p=0;for(j+=1;++b<e;){d=g(f[b],j,n);if(d.value>0){c.push(d);p+=d.value;
d.parent=a}}k&&c.sort(k);a.value=p}else a.value=h.call(i,b,j);return a}function l(b,j){var n=b.children,f=0;if(n)for(var a=-1,e=n.length,c=j+1;++a<e;)f+=l(n[a],c);else f=h.call(i,b.data,j);return b.value=f}function i(b){var j=[];g(b,0,j);return j}var k=F,m=D,h=E;i.sort=function(b){if(!arguments.length)return k;k=b;return i};i.children=function(b){if(!arguments.length)return m;m=b;return i};i.value=function(b){if(!arguments.length)return h;h=b;return i};i.revalue=function(b){l(b,0);return b};return i};
d3.layout.treemap=function(){function g(a,e){var c=a.children;a.area=a.value*e;if(c)for(var p=-1,o=c.length;++p<o;)g(c[p],e)}function l(a){if(a.children){var e={x:a.x,y:a.y,dx:a.dx,dy:a.dy},c=[],p=a.children.slice(),o,q=Infinity,r=Math.min(e.dx,e.dy);for(c.area=0;(o=p.length)>0;){c.push(o=p[o-1]);c.area+=o.area;o=r;for(var u=c.area,s=void 0,t=0,v=Infinity,w=-1,y=c.length;++w<y;){s=c[w].area;if(s<v)v=s;if(s>t)t=s}u*=u;o*=o;if((o=Math.max(o*t/u,u/(o*v)))<=q){p.pop();q=o}else{c.area-=c.pop().area;k(c,
r,e,false);r=Math.min(e.dx,e.dy);c.length=c.area=0;q=Infinity}}if(c.length){k(c,r,e,true);c.length=c.area=0}a.children.forEach(l)}}function i(a){if(a.children){var e={x:a.x,y:a.y,dx:a.dx,dy:a.dy},c=a.children.slice(),p,o=[];for(o.area=0;p=c.pop();){o.push(p);o.area+=p.area;if(p.z!=null){k(o,p.z?e.dx:e.dy,e,!c.length);o.length=o.area=0}}a.children.forEach(i)}}function k(a,e,c,p){var o=-1,q=a.length,r=c.x,u=c.y,s=e?b(a.area/e):0,t;if(e==c.dx){if(p||s>c.dy)s=c.dy;for(;++o<q;){t=a[o];t.x=r;t.y=u;t.dy=
s;r+=t.dx=b(t.area/s)}t.z=true;t.dx+=c.x+c.dx-r;c.y+=s;c.dy-=s}else{if(p||s>c.dx)s=c.dx;for(;++o<q;){t=a[o];t.x=r;t.y=u;t.dx=s;u+=t.dy=b(t.area/s)}t.z=false;t.dy+=c.y+c.dy-u;c.x+=s;c.dx-=s}}function m(a){a=f||h(a);var e=a[0];e.x=0;e.y=0;e.dx=j[0];e.dy=j[1];f&&h.revalue(e);g(e,j[0]*j[1]/e.value);(f?i:l)(e);if(n)f=a;return a}var h=d3.layout.hierarchy(),b=Math.round,j=[1,1],n=false,f;m.sort=d3.rebind(m,h.sort);m.children=d3.rebind(m,h.children);m.value=d3.rebind(m,h.value);m.size=function(a){if(!arguments.length)return j;
j=a;return m};m.round=function(a){if(!arguments.length)return b!=Number;b=a?Math.round:Number;return m};m.sticky=function(a){if(!arguments.length)return n;n=a;f=null;return m};return m}})();
